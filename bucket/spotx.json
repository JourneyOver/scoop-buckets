{
    "version": "1.2.0.1",
    "description": "Modified spotify client. Blocks ads and updates, and more.",
    "homepage": "https://github.com/SpotX-CLI/SpotX-Win/",
    "license": "MIT",
    "url": "https://raw.githubusercontent.com/SpotX-CLI/SpotX-Win/main/Install.ps1",
    "hash": "9d140ef5ff2509026f5bf40371377fff35ad8f61c43c051ef7c9173979d76095",
    "installer": {
        "script": "[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; iex \"& { $((iwr -useb 'https://raw.githubusercontent.com/SpotX-CLI/SpotX-Win/main/Install.ps1').Content) } -confirm_uninstall_ms_spoti -confirm_spoti_recomended_over -podcasts_off -cache_off -block_update_on -start_spoti\""
    },
    "checkver": {
        "regex": "([\\w.-]+)",
        "script": [
            "# Using script to get version number from date, e.g. 6 Mar, 2019 -> 20190306",
            "$url = 'https://api.github.com/repos/SpotX-CLI/SpotX-Win/releases/latest'",
            "$regex = 'tag/([\\d.]+)'",
            "$cont = $(Invoke-WebRequest $url).Content",
            "if(!($cont -match $regex)) { error \"Could match '$regex' on '$url'\"; return }",
            "$app_ver = $matches[1]",
            "",
            "$url2 = 'https://github.com/SpotX-CLI/SpotX-Win/commits/main/Install.ps1'",
            "$regex2 = 'Commits on ([\\w\\s,]+)</h2>'",
            "$cont = $(Invoke-WebRequest $url2).Content",
            "if(!($cont -match $regex2)) { error \"Could match '$regex2' on '$url2'\"; return }",
            "$update_date = $(Get-Date $matches[1]).ToString('yyyyMMdd')",
            "",
            "$url3 = 'https://api.github.com/repos/SpotX-CLI/SpotX-Win/commits?sha=main&path=Install.ps1'",
            "$regex3 = 'SpotX-Win/commits/([0-9a-f]{6})'",
            "$cont = $(Invoke-WebRequest $url3).Content",
            "if(!($cont -match $regex3)) { error \"Could match '$regex3' on '$url3'\"; return }",
            "$commit_sha = $matches[1]",
            "Write-Output \"$app_ver-$update_date-$commit_sha\""
        ]
    },
    "autoupdate": {
        "url": "https://raw.githubusercontent.com/SpotX-CLI/SpotX-Win/main/Install.ps1"
    }
}
