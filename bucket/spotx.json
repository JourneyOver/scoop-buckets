{
    "version": "1.4-20220911-873bde",
    "description": "Modified spotify client. Blocks ads and updates, and more.",
    "homepage": "https://github.com/amd64fox/SpotX/",
    "license": "MIT",
    "url": "https://raw.githubusercontent.com/amd64fox/SpotX/main/Install.ps1",
    "hash": "54b0cea29f35f4bd75457dfb744566ad04939eae7d6ab7eaaf0a5e23ffd3fb5c",
    "installer": {
        "script": "[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12; iex \"& { $((iwr -useb 'https://raw.githubusercontent.com/amd64fox/SpotX/main/Install.ps1').Content) } -confirm_uninstall_ms_spoti -confirm_spoti_recomended_over -podcasts_off -cache_off -block_update_on -enablenavalt -start_spoti\""
    },
    "checkver": {
        "regex": "([\\w.-]+)",
        "script": [
            "# Using script to get version number from date, e.g. 6 Mar, 2019 -> 20190306",
            "$url1 = 'https://api.github.com/repos/amd64fox/SpotX/releases/latest'",
            "$regex1 = 'tag/([\\d.]+)'",
            "$cont = $(Invoke-WebRequest $url1).Content",
            "if(!($cont -match $regex1)) { error \"Could match '$regex1' on '$url1'\"; return }",
            "$app_ver = $matches[1]",
            "",
            "$url2 = 'https://github.com/amd64fox/SpotX/commits/main/Install.ps1'",
            "$regex2 = '(?sm)Commits on ([\\w\\s,]+)</h2>.*?SpotX/commits/([0-9a-f]{6})'",
            "$cont = $(Invoke-WebRequest $url2).Content",
            "if(!($cont -match $regex2)) { error \"Could match '$regex2' on '$url2'\"; return }",
            "$update_date = $(Get-Date $matches[1]).ToString('yyyyMMdd')",
            "$commit_sha = $matches[2]",
            "Write-Output \"$app_ver-$update_date-$commit_sha\""
        ]
    },
    "autoupdate": {
        "url": "https://raw.githubusercontent.com/amd64fox/SpotX/main/Install.ps1"
    }
}
