{
    "##": "https://support.plex.tv/articles/201941078-uninstall-plex-media-server/",
    "version": "1.29.1.6241-d3d56053f",
    "description": "Plex Media Server. Stream content to all of devices, anywhere.",
    "homepage": "https://www.plex.tv/",
    "license": {
        "identifier": "Proprietary",
        "url": "https://support.plex.tv/articles/204096476-license-information/"
    },
    "architecture": {
        "32bit": {
            "url": "https://downloads.plex.tv/plex-media-server-new/1.29.1.6241-d3d56053f/windows/PlexMediaServer-1.29.1.6241-d3d56053f-x86.exe",
            "hash": "a9c0af1bf358111710fe758c273d52a1fa58e749dee99b0867ee100a1cf6aa21",
            "installer": {
                "script": [
                    "Start-Process \"$dir\\$fname\" -ArgumentList '/quiet' -Wait -Verb RunAs | Out-Null",
                    "Remove-Item \"$dir\\$fname\""
                ]
            },
            "post_install": [
                "$ProgramFiles = [Environment]::GetFolderPath(\"ProgramFilesX86\")",
                "$filepath = \"$ProgramFiles\\Plex\\Plex Media Server\\Plex Media Server.exe\"",
                "& $filepath"
            ]
        },
        "64bit": {
            "url": "https://downloads.plex.tv/plex-media-server-new/1.29.1.6241-d3d56053f/windows/PlexMediaServer-1.29.1.6241-d3d56053f-x86_64.exe",
            "hash": "086f027d98a8e4481fdfe4645c038ab2d6d02353f31e46147b11fc89547094b1",
            "pre_install": [
                "$ProgramFiles86 = [Environment]::GetFolderPath(\"ProgramFilesX86\")",
                "$filepath86 = \"$ProgramFiles86\\Plex\\Plex Media Server\\unins000.exe\"",
                "if (Test-Path \"$ProgramFiles86\\Plex\") {",
                "    warn '32bit version detected, Uninstalling before installing 64bit version...'",
                "    Start-Process \"$filepath86\" -ArgumentList '/quiet' -Wait -Verb RunAs | Out-Null",
                "}"
            ],
            "installer": {
                "script": [
                    "Start-Process \"$dir\\$fname\" -ArgumentList '/VERYSILENT /SUPPRESSMSGBOXES' -Wait -Verb RunAs | Out-Null",
                    "Remove-Item \"$dir\\$fname\""
                ]
            },
            "post_install": [
                "$ProgramFiles = [Environment]::GetFolderPath(\"ProgramFiles\")",
                "$filepath = \"$ProgramFiles\\Plex\\Plex Media Server\\Plex Media Server.exe\"",
                "& $filepath"
            ]
        }
    },
    "checkver": {
        "url": "https://www.reddit.com/user/samwiseg0/submitted.json?sort=new",
        "jsonpath": "$...title",
        "regex": "PMS Version Available - (?<version>[\\d.]+-[a-fA-F0-9]{9})"
    },
    "autoupdate": {
        "architecture": {
            "32bit": {
                "url": "https://downloads.plex.tv/plex-media-server-new/$version/windows/PlexMediaServer-$version-x86.exe"
            },
            "64bit": {
                "url": "https://downloads.plex.tv/plex-media-server-new/$version/windows/PlexMediaServer-$version-x86_64.exe"
            }
        }
    }
}
